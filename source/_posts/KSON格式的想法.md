---
title: KSON格式的想法
date: 2016-08-28 13:24:11
tags: idea, 写码, golang
---

## 背景

最近写的程序多了之后，发现配置文件格式的选择确实是一个问题。Java生态圈对properties格式和XML格式的偏爱，JavaScript圈子里JSON的至高地位，还有语法标准多到令人发指的YAML以及最近在go和rust平台上大放异彩的TOML，可以说各有所长，也都殊途同归（都可以转换成JSON）。

#### XML的冗长繁杂

要说起标记语言的发端，XML肯定不能少。但是XML要表示一个字段至少要有一个开始一个结束标记，而且两者要对称，这样一下子就增加了一倍的文本量，绝对算不上轻量。

#### JSON的不善变通

JSON在WEB时代真是混的风生水起，基本上所有的语言都支持JSON，而且JSON也确实对得起这份荣耀。简洁易读，又不需要缩进，可以用在各种地方。但是只能用双引号的字符串，不能添加注释，不能多一个逗号都让这个格式显得又些“固执”。

#### YAML的面面俱到

YAML真的很不错，基本上该有的都有，也修正了之前的格式的很多缺点。但是面面俱到有时候也会面面不到，很多时候看YAML这个基于缩进的格式会眼花。

#### TOML的不知所措

TOML也挺好，分区式的结构清晰明白，不需要缩进，有点回到INI格式的感觉。但是很多时候它的语法导致某些结构的写法增加许多不必要的东西。

## KSON的想法

Kola Simple Object Notation.

基本就是在CSON的基础上进行了一点改进

- 可以用`=`作为键值对分隔符
- 可以用`,`和`;`定义数组



一个简单的例子：

```kson
name: "name"
mode: "MODE"
hash = 
  type = '_'
  info = 'x'
  ex:
    wow: `WOW`
    lol: 'LOL'
list:
  1
  2
,
  field1: 10
  field2: 20
,  
  field1: 100
  field2: 200
;
```



